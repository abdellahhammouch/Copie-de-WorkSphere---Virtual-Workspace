<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WorkSphere - Gestion du Personnel</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="output.css" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  </head>
  <body class="relative bg-zinc-950">
    <main class="flex">
      <aside class="sidebarContainer w-[20%] h-screen rounded-2xl border-2 border-zinc-800">
        <div class="navbar h-[20%] flex flex-col p-4 overflow-hidden border-b-2 rounded-2xl border-zinc-800 gap-4 items-center bg-black">
          <button class="ajouterBtn w-[88%] h-[45%] bg-emerald-500 flex border-2 rounded-lg justify-center items-center text-black font-bold hover:bg-emerald-600 transition-all">Ajouter un employé</button>
          <h3 class="font-bold h-[40%] text-emerald-500 ">Employés non assignés</h3>
        </div>
        <div class="employesContainer mx-1 h-[80%] overflow-y-scroll border-zinc-800 rounded-2xl border-2 mt-1 p-2" style="scrollbar-width: none">
          <!-- Les employés apparaîtront ici -->
        </div>
      </aside>
      
      <section class="containerImage p-2 h-screen flex-1">
        <div class="imgContainer h-full">
          <div class="boxes box1 flex flex-wrap overflow-y-scroll justify-center items-center gap-2 border-2 border-emerald-500/30 rounded-lg p-2" style="scrollbar-width: none;">
          <button class="ajoutBtn conferenceAjout bg-emerald-500 rounded-md text-zinc-800 font-extrabold h-8 w-8 hover:bg-emerald-600 transition-all">+</button>
          </div>
          <div class="boxes box2 flex flex-wrap overflow-y-scroll justify-center items-center gap-2 bg-red-600/30 border-2 border-red-500/50 rounded-lg p-2" style="scrollbar-width: none;">
            <button class="ajoutBtn serverAjout bg-emerald-500 rounded-md text-zinc-800 font-extrabold h-8 w-8 hover:bg-emerald-600 transition-all">+</button>
          </div>
          <div class="boxes box3 flex flex-wrap overflow-y-scroll justify-center items-center gap-2 bg-red-600/30 border-2 border-red-500/50 rounded-lg p-2" style="scrollbar-width: none;">
            <button class="ajoutBtn securiteAjout bg-emerald-500 rounded-md text-zinc-800 font-extrabold h-8 w-8 hover:bg-emerald-600 transition-all">+</button>
          </div>
          <div class="boxes box4 flex flex-wrap overflow-y-scroll justify-center items-center gap-2 bg-red-600/30 border-2 border-red-500/50 rounded-lg p-2" style="scrollbar-width: none;">
            <button class="ajoutBtn recepcionAjout bg-emerald-500 rounded-md text-zinc-800 font-extrabold h-8 w-8 hover:bg-emerald-600 transition-all">+</button>
          </div>
          <div class="boxes box5 flex flex-wrap overflow-y-scroll justify-center items-center gap-2 border-2 border-emerald-500/30 rounded-lg p-2" style="scrollbar-width: none;">
            <button class="ajoutBtn personnelAjout bg-emerald-500 rounded-md text-zinc-800 font-extrabold h-8 w-8 hover:bg-emerald-600 transition-all">+</button>
          </div>
          <div class="boxes box6 flex flex-wrap overflow-y-scroll justify-center items-center gap-2 bg-red-600/30 border-2 border-red-500/50 rounded-lg p-2" style="scrollbar-width: none;">
            <button class="ajoutBtn archiveAjout bg-emerald-500 rounded-md text-zinc-800 font-extrabold h-8 w-8 hover:bg-emerald-600 transition-all">+</button>
          </div>
        </div>
      </section>
      
      <!-- Modal de détails d'employé -->
      <section id="details" class="absolute w-96 hidden p-8 bg-zinc-900 border-2 border-emerald-500 rounded-2xl overflow-y-scroll shadow-[0_20px_60px_rgba(16,185,129,0.3)]" style="scrollbar-width: none; height: 70%; left: 40%; top: 15%; transform: translateX(-50%);">
      </section>
      
      <!-- Modal de sélection d'employés -->
      <section id="employesChooseContainer" class="absolute hidden flex-col overflow-hidden bg-zinc-900 border-2 border-emerald-500 rounded-lg shadow-2xl" style="width: 350px; max-height: 500px; left: 35%; top: 10%;">
        <div class="flex justify-between items-center p-4 border-b-2 border-emerald-500 bg-zinc-950">
          <span class="text-emerald-500 font-bold text-lg">Sélectionner un employé</span>
          <button id="suppEmpChoose" class="text-3xl text-emerald-500 cursor-pointer hover:text-emerald-400">×</button>
        </div>
        <div class="employesChoose overflow-y-scroll p-3" style="scrollbar-width: none;">
          <!--Les employés éligibles seront ajoutés ici-->
        </div>
      </section>
      <div id="fullRoomContainer" class="absolute z-50" style="left: 3%; bottom: 5%;"></div>
    </main>


    <!-- Formulaire d'ajout d'employé -->
    <div id="formContainerAjout" class="absolute hidden h-screen w-screen top-0 left-0 items-center justify-center bg-black/50 backdrop-blur-sm">
      <div class="max-w-2xl w-full max-h-[90vh] overflow-y-scroll bg-zinc-900 shadow-2xl rounded-2xl p-8 border-2 border-emerald-500" style="scrollbar-width: none;">
        <h1 class="text-3xl font-bold mb-6 text-emerald-500">Ajouter un employé</h1>

        <form id="cvForm" class="space-y-6">
          <div class="flex flex-col gap-6">
            <div class="">
              <label class="block text-sm text-zinc-300 font-medium mb-2">Nom complet</label>
              <input name="nom" type="text" placeholder="Abdellah" required class="w-full rounded-lg text-zinc-200 bg-zinc-800 border-2 border-zinc-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20 p-3 transition-all" />
            </div>

            <div class="">
              <label class="block text-sm text-zinc-300 font-medium mb-2">Rôle</label>
              <select name="role" required class="w-full text-zinc-200 bg-zinc-800 rounded-lg border-2 border-zinc-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20 p-3 transition-all">
                <option class="text-zinc-400 bg-zinc-900" value="R">Réceptionniste (R)</option>
                <option class="text-zinc-400 bg-zinc-900" value="IT">Technicien IT (IT)</option>
                <option class="text-zinc-400 bg-zinc-900" value="AS">Agent de sécurité (AS)</option>
                <option class="text-zinc-400 bg-zinc-900" value="M">Manager (M)</option>
                <option class="text-zinc-400 bg-zinc-900" value="N">Nettoyage (N)</option>
                <option class="text-zinc-400 bg-zinc-900" value="AR">Autre Rôle (AR)</option>
              </select>
            </div>

            <div class="">
              <label class="block text-sm font-medium mb-2 text-zinc-300">Photo(URL)</label>
              <input type="url" id="photoUrl" class="w-full text-zinc-200 bg-zinc-800 rounded-lg border-2 border-zinc-700 focus:border-emerald-500 p-3 transition-all" placeholder="https://example.com/photo.jpg" name="url" oninput="previewImage()"/>
              <div id="imagePreview" class="mt-4 w-32 h-32 bg-zinc-950 border-2 border-zinc-700 rounded-full flex items-center justify-center overflow-hidden mx-auto">
                <span class="text-sm text-zinc-400">Aucune image</span>
              </div>
            </div>

            <div>
              <label class="block text-zinc-300 text-sm font-medium mb-2">Email</label>
              <input name="email" type="email" placeholder="exemple@domaine.com" required class="w-full text-zinc-200 bg-zinc-800 rounded-lg border-2 border-zinc-700 focus:border-emerald-500 p-3 transition-all" />
            </div>

            <div>
              <label class="block text-sm font-medium mb-2 text-zinc-300">Téléphone</label>
              <input name="telephone" type="tel" placeholder="+212 6 12 34 56 78" required class="w-full text-zinc-200 bg-zinc-800 rounded-lg border-2 border-zinc-700 focus:border-emerald-500 p-3 transition-all" />
            </div>
          </div>

          <section class="mt-8">
            <div class="flex items-center justify-between mb-4">
              <h2 class="text-xl font-bold text-emerald-500">Expériences professionnelles</h2>
              <button id="addExperienceBtn" type="button" class="flex items-center gap-2 px-4 py-2 bg-emerald-500 text-black rounded-lg shadow-md font-semibold hover:bg-emerald-600 transition-all">
                <span class="text-xl">+</span>
                <span class="text-sm">Ajouter</span>
              </button>
            </div>

            <div id="experiencesList" class="space-y-4">
              <!-- Les expériences seront ajoutées ici -->
            </div>

            <!-- Template caché -->
            <template id="experienceTemplate">
              <div class="experiencedata border-2 border-zinc-700 rounded-xl p-5 bg-zinc-800">
                <div class="flex justify-between items-start mb-4">
                  <h3 class="font-semibold text-zinc-300 text-lg">Nouvelle expérience</h3>
                  <button type="button" class="removeExpBtn inline-flex items-center gap-2 px-3 py-1 text-sm text-red-400 hover:text-red-300 hover:underline transition-all">Supprimer</button>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label class="block text-zinc-400 text-sm font-medium mb-2">Poste</label>
                    <input name="poste" type="text" class="w-full text-zinc-200 bg-zinc-900 rounded-lg border-2 border-zinc-700 focus:border-emerald-500 p-2 transition-all" placeholder="Ex: Développeur Full Stack" />
                  </div>

                  <div>
                    <label class="block text-sm text-zinc-400 font-medium mb-2">Entreprise</label>
                    <input name="entreprise" type="text" class="w-full text-zinc-200 bg-zinc-900 rounded-lg border-2 border-zinc-700 focus:border-emerald-500 p-2 transition-all" placeholder="Ex: Tech Corp" />
                  </div>

                  <div>
                    <label class="block text-zinc-400 text-sm font-medium mb-2">Date début</label>
                    <input id="debut" name="debut" type="month" class="w-full text-zinc-200 bg-zinc-900 rounded-lg border-2 border-zinc-700 focus:border-emerald-500 p-2 transition-all" />
                  </div>

                  <div>
                    <label class="block text-zinc-400 text-sm font-medium mb-2">Date fin</label>
                    <input id="fin" name="fin" type="month" class="w-full text-zinc-200 bg-zinc-900 rounded-lg border-2 border-zinc-700 focus:border-emerald-500 p-2 transition-all" />
                  </div>

                  <div class="md:col-span-2">
                    <label class="block text-sm text-zinc-400 font-medium mb-2">Description</label>
                    <textarea name="description" rows="3" class="w-full text-zinc-200 bg-zinc-900 rounded-lg border-2 border-zinc-700 focus:border-emerald-500 p-2 resize-none transition-all" placeholder="Responsabilités et réalisations..."></textarea>
                  </div>
                </div>
              </div>
            </template>
          </section>

          <div class="flex items-center gap-4 justify-end mt-8 pt-6 border-t-2 border-zinc-700">
            <button class="px-6 py-3 text-zinc-300 bg-zinc-800 rounded-lg font-semibold hover:bg-zinc-700 transition-all" id="annulBtnForm" type="button">Annuler</button>
            <button type="submit" class="px-6 py-3 bg-emerald-500 text-black rounded-lg font-semibold hover:bg-emerald-600 shadow-lg transition-all">Enregistrer</button>
          </div>
        </form>
      </div>
    </div>
  
    <script src="script.js"></script>
  </body>
</html>